<div class="container">
    <h1>Gestão de Aeronaves</h1>
<form [formGroup]="aeronaveForm">
  <table>
    <tr>
      <td>
        <mat-form-field class="example-form-field" appearance="fill">
          <mat-label>Nome</mat-label>
          <input matInput type="text" formControlName="nome">
        </mat-form-field>
      </td>
      <td>
        <mat-form-field class="example-form-field" appearance="fill">
          <mat-label>Fabricante</mat-label>
          <input matInput type="text" formControlName="fabricante">
        </mat-form-field>
      </td>
      <td>
        <mat-form-field class="example-form-field" appearance="fill">
          <mat-label>Ano</mat-label>
          <input matInput type="number" formControlName="ano" pattern="[0-9]" maxlength="4">
        </mat-form-field>
      </td>
      <td>
        <mat-form-field class="example-form-field" appearance="fill">
          <mat-label>Descrição</mat-label>
          <input matInput type="text" formControlName="descricao">
        </mat-form-field>
      </td>
      <td>
        <mat-form-field class="example-form-field" appearance="fill">
          <mat-label>Status</mat-label>
          <select matNativeControl required formControlName="vendido">
            <option value="true">vendido</option>
            <option value="false">disponível</option>
          </select>
        </mat-form-field>
      </td>
    </tr>
    <button mat-fab color="primary" (click)="salvar()">
      <mat-icon>save</mat-icon>
    </button>
  </table>    

  <table mat-table matSort [dataSource]="dataSource">
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef>ID</th>
        <td mat-cell *matCellDef="let element"> {{element.id}} </td>
      </ng-container>
      <ng-container matColumnDef="nome">
        <th mat-header-cell *matHeaderCellDef>Nome</th>
        <td mat-cell *matCellDef="let element"> {{element.nome}} </td>
      </ng-container>
      <ng-container matColumnDef="fabricante">
        <th mat-header-cell *matHeaderCellDef>Fabricante</th>
        <td mat-cell *matCellDef="let element"> {{element.fabricante}} </td>
      </ng-container>
      <ng-container matColumnDef="ano">
        <th mat-header-cell *matHeaderCellDef>Ano</th>
        <td mat-cell *matCellDef="let element"> {{element.ano}} </td>
      </ng-container>
      <ng-container matColumnDef="descricao">
        <th mat-header-cell *matHeaderCellDef>Descrição</th>
        <td mat-cell *matCellDef="let element"> {{element.descricao}} </td>
      </ng-container>
      <ng-container matColumnDef="vendido">
        <th mat-header-cell *matHeaderCellDef>Vendido</th>
        <td mat-cell *matCellDef="let element"> {{ formataSituacao(element.vendido)}} </td>
      </ng-container>
      <ng-container matColumnDef="acoes">
        <th mat-header-cell *matHeaderCellDef>Ações</th>
        <td mat-cell *matCellDef="let element"> 
          <button mat-fab color="primary" style="margin-right: 20px;" (click)="editar(element)">
            <mat-icon>edit</mat-icon>
          </button>
          <button mat-fab color="primary" (click)="excluir(element)">
            <mat-icon>delete</mat-icon>
          </button>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
      <tr mat-row *matRowDef="let request; columns: columnsToDisplay"></tr>
    </table>
  </form>

  <h3>Quantide de Aeronaves não vendidas: {{ quantideNaoVendida }}</h3>

  <h3>Quantide de Aeronaves por fabricante</h3>
  <table mat-table matSort [dataSource]="dataSourceFabricante">
   
    <ng-container matColumnDef="fabricante">
      <th mat-header-cell *matHeaderCellDef>Fabricante</th>
      <td mat-cell *matCellDef="let element"> {{ element.fabricante }} </td>
    </ng-container>

    <ng-container matColumnDef="quantidadeCadastrada">
      <th mat-header-cell *matHeaderCellDef>Quantidade</th>
      <td mat-cell *matCellDef="let element"> {{ element.quantidadeCadastrada }} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="columnsFabricanteToDisplay"></tr>
    <tr mat-row *matRowDef="let request; columns: columnsFabricanteToDisplay"></tr>
  </table>
</div>
